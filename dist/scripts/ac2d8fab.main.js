console.log("This is the game!!!");var game=new Phaser.Game(590,490,Phaser.AUTO,"game_div"),main_state={preload:function(){this.game.stage.backgroundColor="#71c5cf",this.game.load.spritesheet("dog","/dist/images/ab9f74fc.dog.png",50,42),this.game.load.spritesheet("player","/PoopyDog/dist/images/de89522c.player.png",40,50),this.game.load.image("poop","/PoopyDog/dist/images/aef545f2.poop.png")},create:function(){this.poops=game.add.group(),this.poops.createMultiple(20,"poop"),this.poops.forEach(function(a){this.game.physics.enable([a],Phaser.Physics.ARCADE)}),this.dog=this.game.add.sprite(100,245,"dog"),this.dog.scale.set(1.5),this.dog.animations.add("walk",[0,1],10,!0),this.dog.animations.add("pooping",[2,3],10,!0),this.dog.animations.play("walk"),this.game.physics.enable([this.dog],Phaser.Physics.ARCADE),this.dog.body.collideWorldBounds=!0,this.dog.state="walking",this.player=this.game.add.sprite(100,245,"player"),this.player.animations.add("walk",[0,1],10,!0),this.player.animations.play("walk"),this.game.physics.enable([this.player],Phaser.Physics.ARCADE),this.player.body.collideWorldBounds=!0,this.player.state="walking",this.dog_change_direction(),this.space_key=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.space_key.onDown.add(this.player_wants_to_pick_up_poop,this),this.timer=this.game.time.events.loop(1500,this.does_the_dog_want_to_poop,this),this.score=0;var a={font:"30px Arial",fill:"#ffffff"};this.label_score=this.game.add.text(20,20,"0",a),this.cursors=game.input.keyboard.createCursorKeys()},update:function(){"walking"==this.dog.state&&1==this.game.rnd.integerInRange(0,40)&&this.dog_change_direction(),this.cursor_detection()},render:function(){},player_wants_to_pick_up_poop:function(){console.log("player_wants_to_pick_up_poop"),this.game.physics.arcade.overlap(this.player,this.poops,this.player_picks_up_poop,null,this)},player_picks_up_poop:function(a,b){console.log("player_picks_up_poop"),b.kill(),this.score+=1,this.label_score.setText(this.score)},cursor_detection:function(){this.cursors.left.isDown&&(this.player.x-=4),this.cursors.right.isDown&&(this.player.x+=4),this.cursors.up.isDown&&(this.player.y-=4),this.cursors.down.isDown&&(this.player.y+=4)},dog_change_direction:function(){this.dog.body.velocity.y=this.game.rnd.integerInRange(-200,200),this.dog.body.velocity.x=this.game.rnd.integerInRange(-200,200)},does_the_dog_want_to_poop:function(){if("pooping"!=this.dog.state){var a=this.game.rnd.integerInRange(0,1);console.log("number",a),1==a&&this.dog_start_pooping()}},dog_start_pooping:function(){console.log("dog_start_pooping"),this.dog.state="pooping",this.dog.body.velocity.y=0,this.dog.body.velocity.x=0,this.dog.animations.play("pooping"),game.time.events.add(3e3,this.dog_poops,this)},dog_walks:function(){console.log("dog_walks"),this.dog.state="walking",this.dog.animations.play("walk"),this.dog_change_direction()},dog_poops:function(){console.log("dog_poops");var a=this.poops.getFirstDead();a.reset(this.dog.x+70,this.dog.y+20),this.dog_walks()}};game.state.add("main",main_state),game.state.start("main");